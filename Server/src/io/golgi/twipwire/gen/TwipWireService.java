/* IS_AUTOGENERATED_SO_ALLOW_AUTODELETE=YES */
/* The previous line is to allow auto deletion */

package io.golgi.twipwire.gen;

import java.util.Hashtable;
import java.util.ArrayList;
import java.util.Iterator;
import com.openmindnetworks.golgi.JavaType;
import com.openmindnetworks.golgi.GolgiPayload;
import com.openmindnetworks.golgi.B64;
import com.openmindnetworks.golgi.api.*;

public interface TwipWireService{
    public static class stopStreaming{
        public interface ResultSender{
            public void success();
        }

        public interface ResultReceiver extends ResultSender{
            public void failure(GolgiException ex);
        }

        public static class InboundResponseHandler implements GolgiAPIIBResponseHandler{
            private ResultReceiver resultReceiver;
            @Override
            public void error(int errType, String errText){
                GolgiException ex = new GolgiException();
                ex.setErrType(errType);
                ex.setErrText(errText);
                resultReceiver.failure(ex);
            }
            @Override
            public void remoteResponse(String payload){
                TwipWire_stopStreaming_rspArg rsp;
                rsp = new TwipWire_stopStreaming_rspArg(payload);
                if(rsp == null || rsp.isCorrupt()){
                    GolgiException ex = new GolgiException();
                    ex.setErrText("corrupt response(1)");
                    ex.setErrType(golgi_message.ERRTYPE_PAYLOAD_MISMATCH);
                    resultReceiver.failure(ex);
                }
                if(rsp.getInternalSuccess_() != 0){
                    resultReceiver.success();
                }
                else{
                    GolgiException ex = new GolgiException();
                    ex.setErrText("corrupt response(2)");
                    ex.setErrType(golgi_message.ERRTYPE_PAYLOAD_MISMATCH);
                    resultReceiver.failure(ex);
                }
            }
            public InboundResponseHandler(ResultReceiver resultReceiver){
                this.resultReceiver = resultReceiver;
            }
        }

        public static void sendTo(ResultReceiver receiver, GolgiTransportOptions cto, String destination, String golgiId){
            TwipWire_stopStreaming_reqArg arg = new TwipWire_stopStreaming_reqArg();

            arg.setGolgiId(golgiId);

            StringBuffer sb = arg.serialise();
            GolgiAPI.getInstance().sendRequest(new InboundResponseHandler(receiver), cto, destination, "stopStreaming.TwipWire", sb.toString());
        }

        public static void sendTo(ResultReceiver receiver, String destination, String golgiId){
            sendTo(receiver, null, destination, golgiId);
        }

        public interface RequestReceiver{
            public void receiveFrom(ResultSender resultSender, String golgiId);
        }

        public static class InboundRequestReceiver implements GolgiAPIRequestReceiver,ResultSender{
            private RequestReceiver requestReceiver;
            private GolgiAPIOBResponseHandler obResponseSender;

            @Override
            public void incomingRequest(GolgiAPIOBResponseHandler handler, String payload){
                this.obResponseSender = handler;

                TwipWire_stopStreaming_reqArg arg = new TwipWire_stopStreaming_reqArg(payload);
                if(arg.isCorrupt()){
                    handler.remotePayloadError();
                    return;
                }
                requestReceiver.receiveFrom(this, arg.getGolgiId());
            }

            @Override
            public void success(){
                TwipWire_stopStreaming_rspArg rspArg = new TwipWire_stopStreaming_rspArg(false);
                rspArg.setInternalSuccess_(1);
                obResponseSender.send(rspArg.serialise().toString());
            }

            public InboundRequestReceiver(RequestReceiver requestReceiver){
                this.requestReceiver = requestReceiver;
            }
        }

        public static void registerReceiver(RequestReceiver requestReceiver){
           GolgiAPI.getInstance().registerReqReceiver(new InboundRequestReceiver(requestReceiver), "stopStreaming.TwipWire");
        }

    }
    public static class startStreaming{
        public interface ResultSender{
            public void success();
        }

        public interface ResultReceiver extends ResultSender{
            public void failure(GolgiException ex);
        }

        public static class InboundResponseHandler implements GolgiAPIIBResponseHandler{
            private ResultReceiver resultReceiver;
            @Override
            public void error(int errType, String errText){
                GolgiException ex = new GolgiException();
                ex.setErrType(errType);
                ex.setErrText(errText);
                resultReceiver.failure(ex);
            }
            @Override
            public void remoteResponse(String payload){
                TwipWire_startStreaming_rspArg rsp;
                rsp = new TwipWire_startStreaming_rspArg(payload);
                if(rsp == null || rsp.isCorrupt()){
                    GolgiException ex = new GolgiException();
                    ex.setErrText("corrupt response(1)");
                    ex.setErrType(golgi_message.ERRTYPE_PAYLOAD_MISMATCH);
                    resultReceiver.failure(ex);
                }
                if(rsp.getInternalSuccess_() != 0){
                    resultReceiver.success();
                }
                else{
                    GolgiException ex = new GolgiException();
                    ex.setErrText("corrupt response(2)");
                    ex.setErrType(golgi_message.ERRTYPE_PAYLOAD_MISMATCH);
                    resultReceiver.failure(ex);
                }
            }
            public InboundResponseHandler(ResultReceiver resultReceiver){
                this.resultReceiver = resultReceiver;
            }
        }

        public static void sendTo(ResultReceiver receiver, GolgiTransportOptions cto, String destination, TweetFilter filter){
            TwipWire_startStreaming_reqArg arg = new TwipWire_startStreaming_reqArg();

            arg.setFilter(filter);

            StringBuffer sb = arg.serialise();
            GolgiAPI.getInstance().sendRequest(new InboundResponseHandler(receiver), cto, destination, "startStreaming.TwipWire", sb.toString());
        }

        public static void sendTo(ResultReceiver receiver, String destination, TweetFilter filter){
            sendTo(receiver, null, destination, filter);
        }

        public interface RequestReceiver{
            public void receiveFrom(ResultSender resultSender, TweetFilter filter);
        }

        public static class InboundRequestReceiver implements GolgiAPIRequestReceiver,ResultSender{
            private RequestReceiver requestReceiver;
            private GolgiAPIOBResponseHandler obResponseSender;

            @Override
            public void incomingRequest(GolgiAPIOBResponseHandler handler, String payload){
                this.obResponseSender = handler;

                TwipWire_startStreaming_reqArg arg = new TwipWire_startStreaming_reqArg(payload);
                if(arg.isCorrupt()){
                    handler.remotePayloadError();
                    return;
                }
                requestReceiver.receiveFrom(this, arg.getFilter());
            }

            @Override
            public void success(){
                TwipWire_startStreaming_rspArg rspArg = new TwipWire_startStreaming_rspArg(false);
                rspArg.setInternalSuccess_(1);
                obResponseSender.send(rspArg.serialise().toString());
            }

            public InboundRequestReceiver(RequestReceiver requestReceiver){
                this.requestReceiver = requestReceiver;
            }
        }

        public static void registerReceiver(RequestReceiver requestReceiver){
           GolgiAPI.getInstance().registerReqReceiver(new InboundRequestReceiver(requestReceiver), "startStreaming.TwipWire");
        }

    }
    public static class newTweet{
        public interface ResultSender{
            public void success();
        }

        public interface ResultReceiver extends ResultSender{
            public void failure(GolgiException ex);
        }

        public static class InboundResponseHandler implements GolgiAPIIBResponseHandler{
            private ResultReceiver resultReceiver;
            @Override
            public void error(int errType, String errText){
                GolgiException ex = new GolgiException();
                ex.setErrType(errType);
                ex.setErrText(errText);
                resultReceiver.failure(ex);
            }
            @Override
            public void remoteResponse(String payload){
                TwipWire_newTweet_rspArg rsp;
                rsp = new TwipWire_newTweet_rspArg(payload);
                if(rsp == null || rsp.isCorrupt()){
                    GolgiException ex = new GolgiException();
                    ex.setErrText("corrupt response(1)");
                    ex.setErrType(golgi_message.ERRTYPE_PAYLOAD_MISMATCH);
                    resultReceiver.failure(ex);
                }
                if(rsp.getInternalSuccess_() != 0){
                    resultReceiver.success();
                }
                else{
                    GolgiException ex = new GolgiException();
                    ex.setErrText("corrupt response(2)");
                    ex.setErrType(golgi_message.ERRTYPE_PAYLOAD_MISMATCH);
                    resultReceiver.failure(ex);
                }
            }
            public InboundResponseHandler(ResultReceiver resultReceiver){
                this.resultReceiver = resultReceiver;
            }
        }

        public static void sendTo(ResultReceiver receiver, GolgiTransportOptions cto, String destination, TweetDetails tweetDetails){
            TwipWire_newTweet_reqArg arg = new TwipWire_newTweet_reqArg();

            arg.setTweetDetails(tweetDetails);

            StringBuffer sb = arg.serialise();
            GolgiAPI.getInstance().sendRequest(new InboundResponseHandler(receiver), cto, destination, "newTweet.TwipWire", sb.toString());
        }

        public static void sendTo(ResultReceiver receiver, String destination, TweetDetails tweetDetails){
            sendTo(receiver, null, destination, tweetDetails);
        }

        public interface RequestReceiver{
            public void receiveFrom(ResultSender resultSender, TweetDetails tweetDetails);
        }

        public static class InboundRequestReceiver implements GolgiAPIRequestReceiver,ResultSender{
            private RequestReceiver requestReceiver;
            private GolgiAPIOBResponseHandler obResponseSender;

            @Override
            public void incomingRequest(GolgiAPIOBResponseHandler handler, String payload){
                this.obResponseSender = handler;

                TwipWire_newTweet_reqArg arg = new TwipWire_newTweet_reqArg(payload);
                if(arg.isCorrupt()){
                    handler.remotePayloadError();
                    return;
                }
                requestReceiver.receiveFrom(this, arg.getTweetDetails());
            }

            @Override
            public void success(){
                TwipWire_newTweet_rspArg rspArg = new TwipWire_newTweet_rspArg(false);
                rspArg.setInternalSuccess_(1);
                obResponseSender.send(rspArg.serialise().toString());
            }

            public InboundRequestReceiver(RequestReceiver requestReceiver){
                this.requestReceiver = requestReceiver;
            }
        }

        public static void registerReceiver(RequestReceiver requestReceiver){
           GolgiAPI.getInstance().registerReqReceiver(new InboundRequestReceiver(requestReceiver), "newTweet.TwipWire");
        }

    }
}
